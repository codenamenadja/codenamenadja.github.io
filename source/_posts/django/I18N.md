---
title: I18N을 통한 문서 언어 변환
p: django/I18N
date: 2019-06-19 13:02:31
tags: ['django', 'i18n']
---

```python
def index(req):
    if translation.LANGUAGE_SESSION_KEY in req.session:
        del(req.session[translation.LANGUAGE_SESSION_KEY])
    if code in languages and code != default_language:
        translation.activate(code)
        req.session[translation.LANGUAGE_SESSION_KEY] =code
    else:
        req.s
    msg = _("안녕하세요")

    return HttpResponse(msg)
```

```python
def sample(req):
    return render(req, 'sample/index.html')
```

```python
context_processors += 'django.template.context_processors.i18n'

"""
{
    "LAUGUAGES": settings.LAn,
    "LANGUAGE_BIDI": ,
    "LANGUAGE_CODE": ,
}
"""
```

## geoip2 를 통한 레퍼러의IP에 따른 주소 획득
1. `pip install geoip2`
2. https://dev.maxmind.com/geoip/geoip2/geolite2/, download Maxmind db - Country
3. settings.py+= `GEOIP_PATH = os.path.join(BASE_DIR, 'geoip')`
```python
from django.contrib.gis.geoip2 import GeoIP2
g = GeoIP2()
g.country('naver.com')
g.country('')
```
